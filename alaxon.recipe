# vim:fileencoding=utf-8
"""
A Calibre recipe for http://www.alaxon.co.il
"""

__license__ = 'GPL v3'
__copyright__ = '2015, Guy Rutenberg (http://www.guyrutenberg.com/contact-me)'

from calibre.web.feeds.news import BasicNewsRecipe

class AlaxonRecipe(BasicNewsRecipe):
    title = u'אלכסון'
    __author__ = "Guy Rutenberg"
    language = 'he'
    description = (u'כתב־עת דיגיטלי המפרסם מאמרים עבריים ומתורגמים '
                   u'בתחומי המדע, הפילוסופיה, התרבות והאמנות.')
    max_articles_per_feed = 100
    use_embedded_content = False
    no_stylesheets = True
    encoding = 'utf-8'

    keep_only_tags = [
        dict(name='section', attrs={'id':'titlestrip'}),
        dict(name='section', attrs={'class':'the-author'}),
        dict(name='div', attrs={'class':'content'}),
    ]

    feeds = [
        'http://alaxon.co.il/feed/',
    ]

    extra_css = """
        body {direction:rtl;}
        .wp-caption {font-size: smaller;}""" 
    timefmt = '%d/%m/%Y'

    remove_tags = [
        dict(name='q', attrs={'class': re.compile(r'\bhighlight\b')}),
    ]
